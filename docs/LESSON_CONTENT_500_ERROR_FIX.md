# –†–µ—à–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 500 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —É—Ä–æ–∫–∞

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫–∞ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:

```
CourseViewPage.jsx:298 Error loading lesson content: AxiosError {message: 'Request failed with status code 500', name: 'AxiosError', code: 'ERR_BAD_RESPONSE', config: {‚Ä¶}, request: XMLHttpRequest, ‚Ä¶}
```

## –ü—Ä–∏—á–∏–Ω–∞
–û—à–∏–±–∫–∞ –±—ã–ª–∞ –≤ —Ñ–∞–π–ª–µ `backend/database/db_postgres.py` –≤ –º–µ—Ç–æ–¥–∞—Ö `get_module_content` –∏ `get_lesson_content`. –ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–ª–∞—Å—å –≤ —Ç–æ–º, —á—Ç–æ –∫–æ–¥ –ø—ã—Ç–∞–ª—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å JSONB –¥–∞–Ω–Ω—ã–µ –∏–∑ PostgreSQL –≤ —Å–ª–æ–≤–∞—Ä—å —Å –ø–æ–º–æ—â—å—é `dict()`, –Ω–æ JSONB —É–∂–µ —è–≤–ª—è–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä–µ–º.

**–û—à–∏–±–∫–∞:**
```python
return dict(row['content_data'])  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
content_data = row['content_data']
# –ï—Å–ª–∏ content_data —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π, –ø–∞—Ä—Å–∏–º JSON
if isinstance(content_data, str):
    import json
    content_data = json.loads(content_data)
return content_data  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

## –†–µ—à–µ–Ω–∏–µ ‚úÖ

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–¥ –≤ `backend/database/db_postgres.py`
- ‚úÖ –ú–µ—Ç–æ–¥ `get_module_content` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –ú–µ—Ç–æ–¥ `get_lesson_content` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∞ vs —Å–ª–æ–≤–∞—Ä—å)

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

1. **‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫—É—Ä—Å–æ–≤**: `GET /api/courses` - —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–æ–¥—É–ª—è**: `GET /api/courses/{id}/modules/{module}/content` - —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —É—Ä–æ–∫–∞**: `GET /api/courses/{id}/modules/{module}/lessons/{lesson}/content` - —Ä–∞–±–æ—Ç–∞–µ—Ç
4. **‚úÖ Health check**: `GET /health` - —Ä–∞–±–æ—Ç–∞–µ—Ç

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–¢–µ–ø–µ—Ä—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å:
- ‚úÖ **–°–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤** –∏–∑ Render PostgreSQL
- ‚úÖ **–ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥—É–ª–µ–π** —Å –ª–µ–∫—Ü–∏—è–º–∏ –∏ —Å–ª–∞–π–¥–∞–º–∏
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫–æ–≤** —Å –∫–æ–¥–æ–º –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
- ‚úÖ **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–æ–≤** (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∞—É–¥–∏—Ç–æ—Ä–∏—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

## Troubleshooting

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 500 –≤—Å–µ –µ—â–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:
1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥**:
   ```bash
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—ç–∫–µ–Ω–¥ (Ctrl+C)
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
   cd backend
   python main.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Render PostgreSQL**:
   ```bash
   python backend/test_render_database.py
   ```

### –ï—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞**: `Ctrl+Shift+R`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** (F12) –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É API**: `http://localhost:8000`

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞! –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Render PostgreSQL –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:

- üéØ **–ë—ç–∫–µ–Ω–¥** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç JSONB –¥–∞–Ω–Ω—ã–µ
- üéØ **API endpoints** –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- üéØ **–§—Ä–æ–Ω—Ç–µ–Ω–¥** –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –∫—É—Ä—Å–æ–≤
- üéØ **Render PostgreSQL** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.
