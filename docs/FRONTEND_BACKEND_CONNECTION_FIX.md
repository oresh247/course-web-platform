# Решение проблемы с подключением фронтенда к Render PostgreSQL

## Проблема
Фронтенд на `http://localhost:3000/courses` не подтягивает курсы из базы данных на [Render Dashboard](https://dashboard.render.com/).

## Диагностика

### ✅ Что работает:
1. **Render PostgreSQL база данных** - подключена и работает
2. **Бэкенд API** - запущен на `http://localhost:8000` и возвращает курсы
3. **Переменные окружения** - настроены правильно в `.env` файле

### ❌ Что не работает:
1. **Фронтенд** - не может подключиться к бэкенду
2. **CORS** - возможны проблемы с Cross-Origin Resource Sharing

## Решение

### Шаг 1: Проверьте работу API

Откройте в браузере файл `test_api.html` для тестирования подключения к API:

```bash
# Откройте файл в браузере
start test_api.html
```

Этот файл покажет:
- ✅ Статус API (`/health`)
- ✅ Список курсов из Render PostgreSQL (`/api/courses`)

### Шаг 2: Проверьте настройки фронтенда

Убедитесь, что файл `frontend/.env.local` содержит:

```env
VITE_API_URL=http://localhost:8000
VITE_DEBUG=true
VITE_VERSION=1.0.0
```

### Шаг 3: Перезапустите фронтенд

```bash
# Остановите все процессы Node.js
taskkill /F /IM node.exe

# Перейдите в папку фронтенда
cd frontend

# Запустите фронтенд
npm run dev
```

### Шаг 4: Проверьте CORS настройки

Если фронтенд все еще не работает, проверьте CORS настройки в бэкенде. В файле `backend/main.py` должны быть настройки:

```python
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],  # URL фронтенда
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

### Шаг 5: Проверьте консоль браузера

1. Откройте `http://localhost:3000/courses` в браузере
2. Нажмите `F12` для открытия консоли разработчика
3. Перейдите на вкладку "Console" (Консоль)
4. Перейдите на вкладку "Network" (Сеть)
5. Обновите страницу (`F5`)
6. Проверьте наличие ошибок или неудачных запросов

## Альтернативное решение

Если фронтенд не запускается, используйте простой HTML файл для тестирования:

1. Откройте `test_api.html` в браузере
2. Нажмите кнопку "Загрузить курсы"
3. Убедитесь, что курсы загружаются из Render PostgreSQL

## Проверка результата

После выполнения всех шагов:

1. ✅ **Бэкенд работает** на `http://localhost:8000`
2. ✅ **Render PostgreSQL подключена** и возвращает курсы
3. ✅ **Фронтенд работает** на `http://localhost:3000`
4. ✅ **Курсы отображаются** на странице `/courses`

## Troubleshooting

### Ошибка: "Failed to fetch"
- Проверьте, что бэкенд запущен на порту 8000
- Проверьте настройки CORS в бэкенде

### Ошибка: "CORS policy"
- Добавьте `http://localhost:3000` в `allow_origins` в бэкенде
- Перезапустите бэкенд

### Ошибка: "Network Error"
- Проверьте, что файрвол не блокирует подключения
- Проверьте настройки прокси (если используете корпоративную сеть)

### Фронтенд не запускается
- Убедитесь, что Node.js установлен
- Проверьте, что порт 3000 свободен
- Запустите `npm install` в папке `frontend`

## Заключение

После выполнения всех шагов фронтенд должен успешно подключаться к бэкенду и отображать курсы из Render PostgreSQL базы данных.
