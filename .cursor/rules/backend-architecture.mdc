---
alwaysApply: true
---

# Backend Architecture

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Backend
- –í—Å–µ API endpoints –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ `backend/api/` —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `/api`
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ `backend/services/`
- AI-–ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ `backend/ai/`
- –†–∞–±–æ—Ç–∞ —Å –ë–î –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ `backend/database/`
- –ò—Å–ø–æ–ª—å–∑—É–π Pydantic –º–æ–¥–µ–ª–∏ –∏–∑ `backend/models/domain.py` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –í—Å–µ —Ä–æ—É—Ç–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `APIRouter` —Å —Ç–µ–≥–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π `HTTPException` –¥–ª—è –æ—à–∏–±–æ–∫ API —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∞–º–∏

## –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### API Layer (–†–æ—É—Ç–µ—Ä—ã)
- ‚úÖ –¢–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ HTTP –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ –í—ã–∑–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏–∑ `backend/services/`
- ‚ùå –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- ‚ùå –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã

### Service Layer
- ‚úÖ –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Ä–æ—É—Ç–µ—Ä–∞–º–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `backend/database/db` –¥–ª—è –ë–î
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `backend/ai/` –¥–ª—è AI

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
1. –ù–æ–≤—ã–π endpoint ‚Üí –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç–µ—Ä –≤ `backend/api/` –∏–ª–∏ `backend/routes/`
2. –ù–æ–≤–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚Üí —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –≤ `backend/services/`
3. –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤ `backend/services/export/`
4. –ù–æ–≤—ã–π –≤–Ω–µ—à–Ω–∏–π API ‚Üí —Å–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –≤ `backend/clients/`

üìö **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:** `.cursor/rules/architecture-principles.mdc`
